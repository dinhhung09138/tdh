@using TDH.Areas.Administrator.Models;
@model IdeaDetailModel
@{
    IdeaModel _idea = ViewBag.ideaModel;
    ViewBag.Title = _idea.Title;
}
<style>
    .nicEdit-main {
        min-height: 300px !important;
        width: 100%;
        overflow: auto !important;
    }

    .labelView {
        color: #17a2b8;
    }

    .contentIdea {
        padding: 10px;
        background-color: #c6e6dd;
    }
</style>
<div class="card card-success">
    <div class="card-header with-border no-bg">
        <h3 class="card-title">@_idea.Title</h3>
        <div class="card-tools pull-right">
            @{
                if (ViewBag.View == true)
                {
                    <a href="javascript:;" title="Quay lại" class="btn btn-box-tool pg_ld" data-title="Khu vườn ý tưởng" data-url="/administrator/admtarget/createidea">
                        <i class="fa fa-long-arrow-left"></i>
                    </a>
                }
                if (ViewBag.Add == true)
                {
                    <a id="newIdea" title="Thêm mới" class="btn btn-box-tool">
                        <i class="fa fa-plus"></i>
                    </a>
                }
                <a href="javascript:;" title="Tải lại" class="btn btn-box-tool pg_ld" data-url="/administrator/admtarget/detailidea/@ViewBag.id" data-title="@_idea.Title">
                    <i class="fa fa-refresh"></i>
                </a>
            }
        </div>
    </div>
    <div class="card-body">
        <div class="row">
            <div class="col-12">
                <div class="card">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-12">
                                <label class="labelView">Người tạo: </label>@Html.Raw(_idea.UserCreate)<br />
                                <label class="labelView">Ngày tạo: </label> @Html.Raw(_idea.CreateDateString)
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12">
                                <label class="labelView">Nội dung ý tưởng</label><br />
                                <div class="contentIdea">
                                    @Html.Raw(_idea.Content)
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12">
                                <div class="row">
                                    <div class="col-md-12" style="border: 1px solid #17a2b8; margin: 10px 2px; padding: 5px;">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <label class="labelView">#1: </label>
                                            </div>
                                            <div class="col-md-12">
                                                <label class="labelView">#Người tạo: </label>
                                            </div>
                                            <div class="col-md-12">
                                                <label class="labelView">Ngày tạo: </label> 07/07/2018 20:20:20
                                            </div>
                                            <div class="col-md-12">
                                                <label class="labelView">Nội dung:</label><br /> Nội dung 01
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12" style="border: 1px solid #17a2b8; margin: 10px 2px; padding: 5px;">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <label class="labelView">#2: </label>
                                            </div>
                                            <div class="col-md-12">
                                                <label class="labelView">#Người tạo: </label>
                                            </div>
                                            <div class="col-md-12">
                                                <label class="labelView">Ngày tạo: </label> 07/07/2018 20:20:20
                                            </div>
                                            <div class="col-md-12">
                                                <label class="labelView">Nội dung:</label><br /> Nội dung 02
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="ideaModal" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Bổ sung ý tưởng</h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-12">
                        @{
                            if (ViewBag.Add == true)
                            {
                                using (Html.BeginForm("saveIdeadetail", "admtarget", FormMethod.Post, new { @class = "form" }))
                                {
                                    @Html.AntiForgeryToken()
                                    @Html.HiddenFor(m => m.IdeaID)
                                    @Html.HiddenFor(m => m.Insert)
                                    @Html.HiddenFor(m => m.Title)
                                    <div class="row form-group">
                                        <div class="col-md-3 col-sm-4 col-xs-12 text-right">
                                            Triển khai  <span style="color:red; font-weight:bold;">*</span>
                                        </div>
                                        <div class="col-md-9 col-sm-8 col-xs-12">
                                            @Html.TextAreaFor(m => m.Content, new { @class = "form-control", @rows = 10, @tabindex = "1", @style = "width: 100% !important;" })
                                            @Html.ValidationMessageFor(m => m.Content)
                                        </div>
                                    </div>
                                    <div class="row form-group">
                                        <div class="col-md-3 col-sm-4 col-xs-12">
                                        </div>
                                        <div class="col-md-9 col-sm-8 col-xs-12">
                                            @{
                                                <button type="submit" class="btn btn-primary" tabindex="2">Lưu</button>
                                            }
                                        </div>
                                    </div>
                                }
                            }
                        }
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" onclick="deleteItem();">Đồng ý</button>
                <button type="button" class="btn btn-default" data-dismiss="modal">Hủy</button>
            </div>
        </div>
    </div>
</div>
<script src="/Scripts/jquery.validate.min.js"></script>
<script src="/Scripts/jquery.validate.unobtrusive.min.js"></script>
<script src="/Scripts/jquery.unobtrusive-ajax.min.js"></script>
<script>   
    $(document).on('click', '#newIdea', function (e) {
        $('#ideaModal').modal('show');
    });
</script>

