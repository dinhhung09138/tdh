@using TDH.Areas.Money.Utils;
@{
    ViewBag.Title = Message.Report.INDEX;
    Layout = "~/Areas/Administrator/Views/Shared/_AdminLayout.cshtml";
}
@section header{
    <link rel="stylesheet" href="/Areas/Administrator/Content/plugins/datatables/dataTables.bootstrap4.css">
    <link href="/Areas/Administrator/Content/vendors/datatables.net-responsive-bs/css/responsive.bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="/Areas/Administrator/Content/plugins/datatables/dataTables.custom.css">
    <link href="/Areas/Administrator/Content/plugins/datepicker/datepicker3.css" rel="stylesheet" />
}
@Html.Action("modulenavigation", "base", new { @area = "administrator", @moduleCode = "money" })
<div class="row">
    <div class="col-md-12">
        <div class="row">
        </div>
        <div class="card card-success">
            <div class="card-header with-border no-bg">
                <h5 class="card-title">Tổng quan thu chi</h5>
                <div class="card-tools">
                </div>
            </div>
            <div class="card-body" style="display: block;">
                <div class="row">
                    <div id="divSummary" class="col-md-12" style="height: 300px;"></div>
                </div>
            </div>
        </div>
        <div class="card card-success">
            <div class="card-header with-border no-bg">
                <h5 class="card-title">Báo cáo tình hình thu chi</h5>
                <div class="card-tools">
                    <input type="text" id="summaryByYearSelector" class="form-control form-control-sm" value="@DateTime.Now.ToString("yyyy")" readonly />
                </div>
            </div>
            <div class="card-body" style="display: block;">
                <div class="row">
                    <div id="divSummaryByYear" class="col-md-12" style="height: 300px;"></div>
                </div>
                <div class="row">
                    <div class="col-md-6 col-xs-12">
                        <div class="row">
                            <div id="divIncomeSummaryByCategory" class="col-md-12" style="height: 300px;"></div>
                        </div>
                    </div>
                    <div class="col-md-6 col-xs-12">
                        <div class="row">
                            <div id="divPaymentSummaryByCategory" class="col-md-12" style="height: 300px;"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>  
        <div class="card card-success">
            <div class="card-header with-border no-bg">
                <h3 class="card-title">Các nguồn thu nhập trong năm</h3>
                <div class="card-tools pull-right">

                </div>
            </div>
            <div class="card-body">
                <div class="row" id="borrowAccountStatus">
                    <div class="col-md-4 col-sm-4 col-xs-12" style="background-color: aqua; padding: 20px;">
                        @*@Html.Action("borrowaccountstatus", "mnreport", new { area = "money" });*@
                    </div>
                    <div class="col-md-4 col-sm-4 col-xs-12">

                    </div>
                    <div class="col-md-4 col-sm-4 col-xs-12">

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-md-12">

    </div>
</div>
<div class="card card-success">
    <div class="card-header with-border no-bg">
        <h3 class="card-title">Báo cáo chi tiêu</h3>
        <div class="card-tools pull-right">

        </div>
    </div>
    <div class="card-body">
        <div class="row">
            <div class="col-md-12">
                <div class="card card-success">
                    <div class="card-header with-border no-bg">
                        <h5 class="card-title">Báo cáo theo năm</h5>
                        <div class="card-tools">
                            <input type="text" id="monthSelectByYear" class="form-control form-control-sm" value="@DateTime.Now.ToString("yyyy")" readonly />
                        </div>
                    </div>
                    <div class="card-body" style="display: block;">
                        <div class="row">
                            <div id="divIncomeSummaryByCategory1" class="col-md-12" style="height: 300px;"></div>
                        </div>
                        <div class="row">
                            <p>Các nguồn thu trong năm, tính theo từng tháng</p>
                            <p>Báo cáo theo quy tắc chi, có bị vượt giới hạn hay không.</p>
                            <p>Column: Báo cáo thu theo từng danh mục thu trong tháng</p>
                            <p></p>
                            <p></p>
                            <p></p>
                        </div>
                        <div class="row">
                            <div class="col-md-4 col-xs-12">
                                <p class="text-center">
                                    <strong>Các nguồn thu nhập</strong>
                                </p>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <p class="text-center">
                                    <strong>Phân bổ chi tiêu (đơn vị %)</strong>
                                </p>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <p class="text-center">
                                    <strong>Phân bổ chi tiêu (đơn vị vnd)</strong>
                                </p>
                            </div>
                            <!-- /.col -->
                            <div class="col-md-4">
                                <p class="text-center">
                                    <strong>Phân bổ chi tiêu</strong>
                                </p>

                                <div class="progress-group">
                                    Add Products to Cart
                                    <span class="float-right"><b>160</b>/200</span>
                                    <div class="progress progress-sm">
                                        <div class="progress-bar bg-primary" style="width: 80%"></div>
                                    </div>
                                </div>
                                <!-- /.progress-group -->

                                <div class="progress-group">
                                    Complete Purchase
                                    <span class="float-right"><b>310</b>/400</span>
                                    <div class="progress progress-sm">
                                        <div class="progress-bar bg-danger" style="width: 75%"></div>
                                    </div>
                                </div>

                                <!-- /.progress-group -->
                                <div class="progress-group">
                                    <span class="progress-text">Visit Premium Page</span>
                                    <span class="float-right"><b>480</b>/800</span>
                                    <div class="progress progress-sm">
                                        <div class="progress-bar bg-success" style="width: 60%"></div>
                                    </div>
                                </div>

                                <!-- /.progress-group -->
                                <div class="progress-group">
                                    Send Inquiries
                                    <span class="float-right"><b>250</b>/500</span>
                                    <div class="progress progress-sm">
                                        <div class="progress-bar bg-warning" style="width: 50%"></div>
                                    </div>
                                </div>
                                <!-- /.progress-group -->
                            </div>
                            <!-- /.col -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <div class="card card-success">
                    <div class="card-header with-border no-bg">
                        <h5 class="card-title">Tình hình thu chi trong tháng</h5>
                        <div class="card-tools">
                        </div>
                    </div>
                    <div class="card-body" style="display: block;">
                        <div class="row">
                            <div class="col-md-8">
                                <p class="text-center">
                                    <strong>Sales: 1 Jan, 2014 - 30 Jul, 2014</strong>
                                </p>

                                <div class="chart">
                                    <canvas id="salesChart" height="192" style="height: 192px; width: 707px;" width="707"></canvas>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <p class="text-center">
                                    <strong>Goal Completion</strong>
                                </p>

                                <div class="progress-group">
                                    Add Products to Cart
                                    <span class="float-right"><b>160</b>/200</span>
                                    <div class="progress progress-sm">
                                        <div class="progress-bar bg-primary" style="width: 80%"></div>
                                    </div>
                                </div>
                                <div class="progress-group">
                                    Complete Purchase
                                    <span class="float-right"><b>310</b>/400</span>
                                    <div class="progress progress-sm">
                                        <div class="progress-bar bg-danger" style="width: 75%"></div>
                                    </div>
                                </div>
                                <div class="progress-group">
                                    <span class="progress-text">Visit Premium Page</span>
                                    <span class="float-right"><b>480</b>/800</span>
                                    <div class="progress progress-sm">
                                        <div class="progress-bar bg-success" style="width: 60%"></div>
                                    </div>
                                </div>
                                <div class="progress-group">
                                    Send Inquiries
                                    <span class="float-right"><b>250</b>/500</span>
                                    <div class="progress progress-sm">
                                        <div class="progress-bar bg-warning" style="width: 50%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card-footer" style="display: block;">
                        <div class="row">
                            <div class="col-sm-3 col-6">
                                <div class="description-block border-right">
                                    <span class="description-percentage text-success"><i class="fa fa-caret-up"></i> 17%</span>
                                    <h5 class="description-header">$35,210.43</h5>
                                    <span class="description-text">TOTAL REVENUE</span>
                                </div>
                            </div>
                            <div class="col-sm-3 col-6">
                                <div class="description-block border-right">
                                    <span class="description-percentage text-warning"><i class="fa fa-caret-left"></i> 0%</span>
                                    <h5 class="description-header">$10,390.90</h5>
                                    <span class="description-text">TOTAL COST</span>
                                </div>
                            </div>
                            <div class="col-sm-3 col-6">
                                <div class="description-block border-right">
                                    <span class="description-percentage text-success"><i class="fa fa-caret-up"></i> 20%</span>
                                    <h5 class="description-header">$24,813.53</h5>
                                    <span class="description-text">TOTAL PROFIT</span>
                                </div>
                            </div>
                            <div class="col-sm-3 col-6">
                                <div class="description-block">
                                    <span class="description-percentage text-danger"><i class="fa fa-caret-down"></i> 18%</span>
                                    <h5 class="description-header">1200</h5>
                                    <span class="description-text">GOAL COMPLETIONS</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="card">
    <ul class="nav nav-tabs" role="tablist">
        <li role="presentation" class="active"><a href="#home" aria-controls="home" role="tab" data-toggle="tab">Home</a></li>
        <li role="presentation"><a href="#profile" aria-controls="profile" role="tab" data-toggle="tab">Profile</a></li>
        <li role="presentation"><a href="#messages" aria-controls="messages" role="tab" data-toggle="tab">Messages</a></li>
        <li role="presentation"><a href="#settings" aria-controls="settings" role="tab" data-toggle="tab">Settings</a></li>
    </ul>
    <!-- Tab panes -->
    <div class="tab-content">
        <div role="tabpanel" class="tab-pane active" id="home">Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.</div>
        <div role="tabpanel" class="tab-pane" id="profile">Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.</div>
        <div role="tabpanel" class="tab-pane" id="messages">Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.</div>
        <div role="tabpanel" class="tab-pane" id="settings">Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passage..</div>
    </div>
</div>
@section script {
    <script src="/Areas/Administrator/Content/plugins/datatables/jquery.dataTables.js"></script>
    <script src="/Areas/Administrator/Content/plugins/datatables/dataTables.bootstrap4.js"></script>
    <script src="/Areas/Administrator/Content/vendors/datatables.net-responsive/js/dataTables.responsive.min.js"></script>
    <script src="/Areas/Administrator/Content/vendors/datatables.net-responsive-bs/js/responsive.bootstrap.js"></script>
    <script src="/Areas/Administrator/Content/plugins/datepicker/bootstrap-datepicker.js"></script>
    <script src="/Areas/Administrator/Content/plugins/datepicker/locales/bootstrap-datepicker.vi.js"></script>
    <script src="/Areas/Administrator/Content/plugins/autoNumeric/autoNumeric.min.js"></script>
    <script src="/Areas/Money/Content/Report/index.js"></script>

    <script>

        $("#summaryByYearSelector").datepicker({
            language: 'vi',
            format: "yyyy",
            viewMode: "years",
            minViewMode: "years"
        }).on('changeDate', function (ev) {
            $('#summaryByYearSelector').datepicker('hide');
            drawSummaryByYearChart();
            drawIncomeSummaryByYearChart();
            drawPaymentSummaryByYearChart();
        });


        $(document).ready(function () {
            $.ajax({
                url: '/money/mnreport/borrowaccountstatus',
                type: 'POST',
                cache: false,
                async: true,
                contentType: 'html',
                success: function (response) {
                    $('#borrowAccountStatus').append(response);
                },
                error: function (xhr, status, error) {
                    console.log(xhr);
                }
            });
        });

        //
        google.charts.setOnLoadCallback(drawVisualization);

        function drawVisualization() {
            // Some raw data (not necessarily accurate)
            var data = google.visualization.arrayToDataTable([
                ['Month', 'Bolivia', 'Ecuador', 'Madagascar', 'Papua New Guinea', 'Rwanda', 'Average'],
                ['2004/05', 165, 938, 522, 998, 450, 614.6],
                ['2005/06', 135, 1120, 599, 1268, 288, 682],
                ['2006/07', 157, 1167, 587, 807, 397, 623],
                ['2007/08', 139, 1110, 615, 968, 215, 609.4],
                ['2008/09', 136, 691, 629, 1026, 366, 569.6]
            ]);

            var options = {
                title: 'Monthly Coffee Production by Country',
                vAxis: { title: 'Cups' },
                hAxis: { title: 'Month' },
                seriesType: 'bars',
                series: { 5: { type: 'line' } }
            };

            var chart = new google.visualization.ComboChart(document.getElementById('divIncomeSummaryByCategory1'));
            chart.draw(data, options);
        }
    </script>
}

