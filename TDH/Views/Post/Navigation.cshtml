@using Utils;
@using TDH.ViewModel;
@model NavigationViewModel
@{
    ViewBag.Title = Model.MetaTitle;
    ViewBag.Description = Model.MetaDescription;
    ViewBag.Keywords = Model.MetaKeywords;
    ViewBag.Url = ViewBag.Url;
    ViewBag.OgImage = Model.MetaOgImage;
    ViewBag.TwImage = Model.MetaTwitterImage;
    Layout = "~/Views/Shared/_Layout.cshtml";
    int _count = 0;
    string _lost = "";
}

<div class="mag-inner">
    <div class="col-md-8 mag-innert-left">
        @{
            if (ViewBag.post == 1)
            {
                List<PostViewModel> _list = ViewBag.data as List<PostViewModel>;
                <div class="">
                    <h3 class="tittle"><a href="@Model.Alias" title="@Model.Title">@Model.Title</a></h3>
                    @foreach (var item in _list)
                    {
                        if (_count == 0)
                        {
                            @Html.Raw("<div class='world-news-grids'>");
                        }
                        _lost = "";
                        if (_count == 2)
                        {
                            _lost = "lost";
                        }
                        <div class="world-news-grid @_lost">
                            <img src="@item.Image" alt="@item.Title" />
                            <a href="@item.Alias" class="wd">@item.Title</a>
                            <p>@item.Description</p>
                            <a class="read" href="@item.Alias">Xem thêm</a>
                        </div>
                        if (_count == 2)
                        {
                            @Html.Raw("<div class='clearfix'></div></div>");
                        }
                        _count++;
                        if (_count == 3)
                        {
                            _count = 0;
                        }
                    }
                    @if (_count == 1 || _count == 2)
                    {
                        @Html.Raw("<div class='clearfix'></div></div>");
                    }
                </div>
            }
            else
            {
                List<CategoryViewModel> _list = ViewBag.data as List<CategoryViewModel>;
                foreach (var item in _list)
                {
                    if (_count == 0 && item.Posts.Count() > 0)
                    {
                        _count = 1;
                        <div class="technology">
                            <h2 class="tittle"><a href="@item.Alias" title="@item.Title">@item.Title</a></h2>
                            <div class="col-md-6 tech-img">
                                <a href="@item.Posts[0].Alias"><img src="@item.Posts[0].Image" class="img-responsive" alt="@item.Posts[0].Title" /></a>
                                <h5 class="inner two">
                                    <a href="@item.Posts[0].Alias">@item.Posts[0].Title</a>
                                </h5>
                                <p>@item.Posts[0].Description</p>
                            </div>
                            <div class="col-md-6 tech-text">
                            @if (item.Posts.Count() > 2)
                            {
                                for (int i = 1; i < item.Posts.Count(); i++)
                                {
                                    if (i == 5)
                                    {
                                        break;
                                    }
                                    <div class="editor-pics">
                                        <div class="col-md-3 item-pic">
                                            <img src="@item.Posts[i].Image" class="img-responsive" alt="@item.Posts[i].Title" />
                                        </div>
                                        <div class="col-md-9 item-details">
                                            <h5 class="inner two"><a href="@item.Posts[i].Alias">@item.Posts[i].Title</a></h5>
                                            <div class="td-post-date two">@item.Posts[i].CreateDate.DateToString()</div>
                                        </div>
                                        <div class="clearfix"></div>
                                    </div>
                                }
                            }
                            </div>
                            <div class="clearfix"></div>
                        </div>
                    }
                    if (_count == 1 && item.Posts.Count() > 0)
                    {
                        _count = 0;
                        <div class="business">
                            <h3 class="tittle"><a href="@item.Alias" title="@item.Title">@item.Title</a></h3>
                            <div class="business-inner">
                                <div class="col-md-6 b-img"><a href="@item.Posts[0].Alias"><img class="img-responsive" src="@item.Posts[0].Image" alt="@item.Posts[0].Title" /></a></div>
                                <div class="col-md-6 b-text">
                                    <h5><a href="@item.Posts[0].Alias">@item.Posts[0].Title</a></h5>
                                    <h6><i class="glyphicon glyphicon-time"></i>@item.Posts[0].CreateDate.DateToString()</h6>
                                    <div class="icons">
                                        <a href="#"><i class="glyphicon glyphicon-user"></i>Admin</a>
                                        <a href="#"><i class="glyphicon glyphicon-comment"></i>0</a>
                                        <a href="#"><i class="glyphicon glyphicon-thumbs-up"></i>0</a>
                                        <a href="#"><i class="glyphicon glyphicon-thumbs-down"></i> 0</a>
                                    </div>
                                    <div class="clearfix"></div>
                                    <p>@item.Posts[0].Description</p>
                                    <a class="read" href="@item.Posts[0].Alias">Chi tiết</a>
                                </div>
                                <div class="clearfix"></div>
                                <div class="business-bottom-content">
                                @if (item.Posts.Count() > 1)
                                {
                                    <div class="col-md-6 business-bottom">
                                        <div class="col-md-3 b-bottom-pic">
                                            <a href="@item.Posts[1].Alias"><img class="img-responsive" src="@item.Posts[1].Image" alt="@item.Posts[1].Title" /></a>
                                        </div>
                                        <div class="col-md-9 b-bottom-text">
                                            <h5><a href="@item.Posts[1].Alias"> @item.Posts[1].Title</a></h5>
                                            <h6><i class="glyphicon glyphicon-time"></i>@item.Posts[1].CreateDate.DateToString()</h6>
                                            <div class="icons">
                                                <a href="#"><i class="glyphicon glyphicon-user"></i>Admin</a>
                                                <a href="#"><i class="glyphicon glyphicon-comment"></i>0</a>
                                                <a href="#"><i class="glyphicon glyphicon-thumbs-up"></i>0</a>
                                                <a href="#"><i class="glyphicon glyphicon-thumbs-down"></i> 0</a>
                                            </div>
                                            <div class="clearfix"></div>
                                        </div>
                                        <div class="clearfix"></div>
                                    </div>
                                }
                                @if (item.Posts.Count() > 2)
                                {
                                    <div class="col-md-6 business-bottom">
                                        <div class="col-md-3 b-bottom-pic">
                                            <a href="@item.Posts[2].Alias">
                                                <img class="img-responsive" src="@item.Posts[2].Image" alt="@item.Posts[2].Title" />
                                            </a>
                                        </div>
                                        <div class="col-md-9 b-bottom-text">
                                            <h5><a href="@item.Posts[2].Alias"> @item.Posts[2].Title</a></h5>
                                            <h6><i class="glyphicon glyphicon-time"></i>@item.Posts[2].CreateDate.DateToString()</h6>
                                            <div class="icons">
                                                <a href="#"><i class="glyphicon glyphicon-user"></i>Admin</a>
                                                <a href="#"><i class="glyphicon glyphicon-comment"></i>0</a>
                                                <a href="#"><i class="glyphicon glyphicon-thumbs-up"></i>0</a>
                                                <a href="#"><i class="glyphicon glyphicon-thumbs-down"></i> 0</a>
                                            </div>
                                            <div class="clearfix"></div>
                                        </div>
                                        <div class="clearfix"></div>
                                    </div>
                                    <div class="clearfix"></div>
                                }
                                    <div class="clearfix"></div>
                                </div>
                            </div>
                            @if (item.Posts.Count() > 3)
                            {
                                <div class="business-inner two">
                                    <div class="col-md-6 b-img">
                                        <a href="@item.Posts[3].Alias"><img class="img-responsive" src="@item.Posts[3].Image" alt="@item.Posts[3].Title" /></a>
                                    </div>
                                    <div class="col-md-6 b-text">
                                        <h5><a href="@item.Posts[3].Alias">@item.Posts[3].Title</a></h5>
                                        <h6><i class="glyphicon glyphicon-time"></i>@item.Posts[3].CreateDate.DateToString()</h6>
                                        <div class="icons">
                                            <a href="#"><i class="glyphicon glyphicon-user"></i>Admin</a>
                                            <a href="#"><i class="glyphicon glyphicon-comment"></i>0</a>
                                            <a href="#"><i class="glyphicon glyphicon-thumbs-up"></i>0</a>
                                            <a href="#"><i class="glyphicon glyphicon-thumbs-down"></i> 0</a>
                                        </div>
                                        <div class="clearfix"></div>
                                        <p>@item.Posts[3].Description</p>
                                        <a class="read" href="@item.Posts[3].Alias">Chi tiết</a>
                                    </div>
                                    <div class="clearfix"></div>
                                    <div class="business-bottom-content">
                                        @if (item.Posts.Count() > 4)
                                        {
                                            <div class="col-md-6 business-bottom">
                                                <div class="col-md-3 b-bottom-pic">
                                                    <a href="@item.Posts[4].Alias"><img class="img-responsive" src="@item.Posts[4].Image" alt="@item.Posts[4].Title" /></a>
                                                </div>
                                                <div class="col-md-9 b-bottom-text">
                                                    <h5><a href="@item.Posts[4].Alias"> @item.Posts[4].Title</a></h5>
                                                    <h6><i class="glyphicon glyphicon-time"></i>@item.Posts[4].CreateDate.DateToString()</h6>
                                                    <div class="icons">
                                                        <a href="#"><i class="glyphicon glyphicon-user"></i>Admin</a>
                                                        <a href="#"><i class="glyphicon glyphicon-comment"></i>0</a>
                                                        <a href="#"><i class="glyphicon glyphicon-thumbs-up"></i>0</a>
                                                        <a href="#"><i class="glyphicon glyphicon-thumbs-down"></i> 0</a>
                                                    </div>
                                                    <div class="clearfix"></div>
                                                </div>
                                                <div class="clearfix"></div>
                                            </div>
                                        }
                                        @if (item.Posts.Count() > 5)
                                        {
                                            <div class="col-md-6 business-bottom">
                                                <div class="col-md-3 b-bottom-pic">
                                                    <a href="@item.Posts[5].Alias"><img class="img-responsive" src="@item.Posts[5].Image" alt="@item.Posts[5].Title" /></a>
                                                </div>
                                                <div class="col-md-9 b-bottom-text">
                                                    <h5><a href="@item.Posts[5].Alias"> @item.Posts[5].Title</a></h5>
                                                    <h6><i class="glyphicon glyphicon-time"></i>@item.Posts[5].CreateDate.DateToString()</h6>
                                                    <div class="icons">
                                                        <a href="#"><i class="glyphicon glyphicon-user"></i>Admin</a>
                                                        <a href="#"><i class="glyphicon glyphicon-comment"></i>0</a>
                                                        <a href="#"><i class="glyphicon glyphicon-thumbs-up"></i>0</a>
                                                        <a href="#"><i class="glyphicon glyphicon-thumbs-down"></i> 0</a>
                                                    </div>
                                                    <div class="clearfix"></div>
                                                </div>
                                                <div class="clearfix"></div>
                                            </div>
                                        }
                                        <div class="clearfix"></div>
                                    </div>
                                </div>
                            }
                        </div>
                    }
                }
            }
        }
    </div>
    <div class="col-md-4 mag-inner-right">
        @Html.Action("ConnectedToMe", "Home")
        @Html.Action("NewsLetter", "Home")
        @Html.Action("LastedNews", "Home")
        @Html.Action("TopView", "Home")
    </div>
    <div class="clearfix"></div>
</div>
